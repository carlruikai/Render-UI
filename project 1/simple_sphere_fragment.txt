#version 330 core

uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;
uniform vec3 center;
uniform float radius;
uniform vec3 color;

in vec2 coords;
out vec4 pixel;

void main()
{
    //²åÖµ£¬´Ócenterµ½corner
    float d = dot(coords, coords);

    if (d > 1.0f)
    {
        discard;
    }

    float z = sqrt(1.0f - d);

    vec3 normal = vec3(coords, z);



    //vec3 position = center + radius * normal;

    //mat4 MVP = projection * view * model;

    // gl_DepthRange.diff value is the far value minus the near value

    //vec4 clipPos = MVP * vec4(position, 1.0f);
    //float ndcDepth = clipPos.z / clipPos.w;
    //gl_FragDepth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) * 0.5f;

    pixel = vec4((normal + 1.0f) * 0.5f, 1.0f);
}